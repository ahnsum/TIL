
목자 

* Activity
* Fragment
* 메모리 릭

---

### Activity


안드로이드 앱이 실행되면 화면이 등장하고 UI가 화면 위에 나타난다. 버튼을 터치하거나 스크롤 등 여러 가지 활동이 가능해진다.  
이러한 __전반적인 활동을 담당하는 구성요소__ 이다. 또한 안드로이드의 4대 구성요소 중 하나이기도 하다.  
main() 메서드를 사용하여 앱을 실행하는 일반적인 프로그래밍 패러다임과는 달리 __수명주기의 특정 단게에 해당하는 특정 콜백 메서드__(onCreate)를 호출하여 Activity의 인스턴스 코드를 시작한다.  

<br>

모바일 앱 환경은 __사용자와 앱의 상호작용이 항상 동일한 위치에서 시작되는 것이 아니다.__ (데스크톱 앱 환경과의 차이점)  

홈화면에서 인스타그램을 켜면 그냥 인스타그램 메인 화면이 뜨지만 유튜브 영상을 공유하면서 인스타그램을 켜면 글쓰기 화면으로 이동할 것이다.
이처럼 __앱은 켜지면 무조건 동일한 위치인 메인에서 시작하는 것이 아니라 상황에 따라 맞는 Activity에서 켜지게 된다.__  

그래서 안드로이드의 Activity 클래스는 이 패러다임을 촉진하도록 설계되어있다.
__한 앱이 다른 앱을 호출할 때, 호출 앱은 다른 앱 전체를 호출하는 것이 아니라 다른 앱의 Activity를 호출한다.__  
이러한 방식으로 Activity는 앱과 사용자의 상호작용을 위한 진입점 역할을 한다.  

또한, Activity는 앱이 UI를 그리는 창을 제공한다. 이 창은 일반적으로는 화면을 다 채우지만 작을 수도 있고, 다른 창 위에 떠 있을 수도 있다. 일반적으로는 한 Activity는 앱에서 하나의 화면을 구현한다.  

대부분의 앱에는 여러 화면이 포함되어 있다. 즉, 대부분의 앱은 여러 Activity로 구성이 된다.  
일반적으로는 앱에서 하나의 Activity가 __기본 Activity로 지정__ 되며 이 기본 Activity는 사용자가 앱을 실행할 때 표시되는 첫 번째 화면을 뜻한다. 그리고 각 Activity는 다양한 Activity들을 실행하기 위해 또 다른 Activity를 시작할 수 있다.  

예를 들자면, 우리가 사용하는 대부분의 앱들은 기본 Activity로 로그인 화면을 제공할 것이다. 그리고 로그인 화면에서는 아이디/비밀번호 찾기, 회원가입 같은 작업을 위한 화면을 제공하는 다른 Activity들을 실행할 수 있을 것이다.  

이러한 Activity는 앱에 일관된 사용자 환경을 형성하기 위해 함께 작동하지만, __각 Activity들은 다른 Activity에 최소한의 종속성만 가진다.__ 쉽게 설명하자면 한 Activity는 다른 Activity 내에 있는 메소드를 직접 호출할 수 없고, 데이터도 직접 액세스 할 수 없다는 뜻이다.  

https://krapoi.tistory.com/entry/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-Activity%EC%99%80-Fragment

---

<br>

### Activity  

Activity는 main() 메서드를 사용하여 앱을 실행하는 프로그래밍 패러다임과 다른 안드로이드 시스템의 특수성에 의하여 생긴 개념이다. 모바일 앱은 데스크톱과 다르게 항상 같은 위치에서 시작되는 것이 아니다. 예를 들어, 이메일 앱을 열면 이메일 보내기 화면으로 바로 이동하거나 할 수 있다. 즉, 앱이 다른 앱을 호출할 때 앱의 전체를 호출하는 것이 아니라 특정 Activity를 호출하는 것이다. **결국 Activity는 앱과 사용자의 상호작용을 위한 진입점 역할과 동시에 하나의 UI 화면을 그리는 Container 역할을 수행합니다.**

<br>

### Fragment

Fragment는 독립적으로 존재할 수 없다. 반드시 Activity 안에(혹은 다른 Fragment) 정의되어야 한다. 그런 의미에서 Activity가 더 큰 집합이라고 할 수 있다. Fragment는 Activity에 종속되어 있으면서 자체적으로 수명주기를 갖고 있다. Fragment를 다양한 화면 구성을 위한 앱 UI의 재사용을 위해 설계되었다. 다양한 화면 비율을 갖고 있는 안드로이드 생태계에서 Activity 안에 화면 UI를 Fragment로 나누면 런타임 시 Activity 화면을 동적으로 추가, 교체, 삭제할 수 있다. 또한, 백 스택에 보관할 수 있기 때문에 변경사항을 취소하는 것 또한 가능하다. **결국 Fragment는 다양한 UI를 모듈화하여 재사용하고 화면 구성을 더욱 쉽게 할 수 있도록 도와준다.**

<br>

### Activity의 수명 주기

사용자가 앱을 사용하고, 나가고, 다시 돌아오면 앱의 Activity 인스턴스는 수명 주기 안에서 상태가 전환된다. Activity 클래스는 이러한 상태 변화를 알아차릴 수 있는 여러 콜백을 제공한다. 대표적으로 Activity에 선언되어 있는 onCreate() 같은 함수가 그러한 콜백 함수이다. 수명 주기에 대한 자세한 예를 든다면, 스트리밍 동영상 플레이어를 빌드하는 경우, 사용자가 다른 앱으로 전환하였을 때, 동영상을 일시중지하고 네트워크 연결을 종료할 수 있다. 사용자가 다시 앱으로 돌아오면 네트워크를 연결하고 일시중지한 지점부터 동영상을 다시 재생한다. **즉, 수명 주기에 따른 여러 콜백은 Activity의 상태 변화에 따라서 적합한 작업을 수행할 수 있도록 해야 한다. 또한, 수명 주기 콜백을 올바르게 구현하면 리소스가 낭비되거나 다른 앱으로 전환할 때, 다른 앱에서 다시 돌아올 때 야기되는 다양한 문제들을 예방할 수 있다.**

<br>



